{{> header}}

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>


<div class="m-grid__item m-grid__item--fluid m-wrapper">

	<div class="m-content">
		{{#if error}}
		<div class="alert alert-danger alert-dismissible fade show" role="alert">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			</button>
			<strong>Oh snap!</strong> {{error}}
		</div>
		{{/if}}
		{{#if success}}
		<div class="alert alert-success alert-dismissible fade show" role="alert">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			</button>
			<strong>Success!</strong> {{success}}
		</div>
		{{/if}}


		<div class="row">
			<div class="col-lg-3">

				<!--begin::Portlet-->
				<div class="m-portlet">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<span class="m-portlet__head-icon m--hide">
									<i class="la la-gear"></i>
								</span>
								<h3 class="m-portlet__head-text">
									Frindr Profile
								</h3>
							</div>
						</div>
					</div>

					<!--begin::Form-->
					<form class="m-form" method="post" action="/profile/update">
						<div class="m-portlet__body">
							<div class="m-form__section m-form__section--first">
								<div class="form-group m-form__group">
									<label for="example_input_full_name">Email:</label>
									<input type="email" disabled="" class="form-control m-input" value="{{user.email}}">
								</div>
								<div class="form-group m-form__group">
									<label>Name:</label>
									<input type="text" class="form-control m-input" name="name" maxlength="240" value="{{user.name}}">
								</div>
								<div class="form-group m-form__group">
									<label>Location:</label>
									<input type="text" class="form-control m-input" value="{{user.location}}" disabled="">
								</div>
								<div class="form-group m-form__group">
									<label>Bio:</label>
									<input type="text" class="form-control m-input" maxlength="500" name="bio" value="{{user.bio}}">
								</div>
								<div class="form-group m-form__group">
									<label class="m-checkbox">
										<input id="notificationscheckbox" name="notifications" type="checkbox"> Email Notifications
										<span></span>
									</label>
								</div>
							</div>
						</div>
						<div class="m-portlet__foot m-portlet__foot--fit">
							<div class="m-form__actions m-form__actions">
								<button type="submit" class="btn btn-primary">Save</button>
                        		<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete-profile-modal">Delete Frindr Profile</button>
							</div>
						</div>
					</form>
					<!--end::Form-->
				</div>

				<!--end::Portlet-->
			</div>

			<div class="col-lg-3">

				<!--begin::Portlet-->
				<div class="m-portlet">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<span class="m-portlet__head-icon m--hide">
									<i class="la la-gear"></i>
								</span>
								<h3 class="m-portlet__head-text">
									Change Password
								</h3>
							</div>
						</div>
					</div>

					<!--begin::Form-->
					<form class="m-form" action="/profile/change-password" method="post">
						<div class="m-portlet__body">
							<div class="m-form__section m-form__section--first">
								<div class="form-group m-form__group">
									<label>Current Password</label>
									<input type="password" required="true" name="currentPassword" class="form-control m-input">
								</div>
								<div class="form-group m-form__group">
									<label>New Password</label>
									<input type="password" name="newPassword" class="form-control m-input">
								</div>
								<div class="form-group m-form__group">
									<label>Confirm New Password</label>
									<input type="password" name="newPassword2" class="form-control m-input">
								</div>
							</div>
						</div>
						<div class="m-portlet__foot m-portlet__foot--fit">
							<div class="m-form__actions m-form__actions">
								<button type="submit" class="btn btn-primary">Submit</button>
								<button type="reset" class="btn btn-secondary">Reset</button>
							</div>
						</div>
					</form>
					<!--end::Form-->
				</div>

				<!--end::Portlet-->
			</div>

			<div class="col-lg-4">

				<!--begin::Portlet-->
				<div class="m-portlet">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<span class="m-portlet__head-icon m--hide">
									<i class="la la-gear"></i>
								</span>
								<h3 class="m-portlet__head-text">
									Interests
								</h3>
							</div>
						</div>
					</div>

					<!--begin::Form-->
					<form class="m-form" action="/profile/update-interests" method="post">
						<div class="m-portlet__body">
							<div class="m-form__section m-form__section--first">
								<div class="form-group m-form__group row">
										<label class="col-form-label col-lg-3 col-sm-12">Select Interests:</label>
										<div class="col-lg-12">
											<select class="form-control m-select2" id="m_select2_3" name="param" multiple="multiple">
												<optgroup label="Interests">
													{{#if user_interests}}
													{{#each user_interests}}
													{{#select this}}
													<option value="reading">Reading</option>
													<option value="traveling">Traveling</option>
													<option value="fishing">Fishing</option>
													<option value="crafts">Crafts</option>
													<option value="netflix">Netflix</option>
													<option value="gaming">Gaming</option>
													<option value="sports">Sports</option>
													<option value="music">Music</option>
													{{/select}}
													{{/each}}
													{{else}}
													<option value="reading">Reading</option>
													<option value="traveling">Traveling</option>
													<option value="fishing">Fishing</option>
													<option value="crafts">Crafts</option>
													<option value="netflix">Netflix</option>
													<option value="gaming">Gaming</option>
													<option value="sports">Sports</option>
													<option value="music">Music</option>
													{{/if}}
												</optgroup>
											</select>
										</div>
									</div>
							</div>
						</div>
						<div class="m-portlet__foot m-portlet__foot--fit">
							<div class="m-form__actions m-form__actions">
								<button type="submit" class="btn btn-primary">Submit</button>
							</div>
						</div>
					</form>
					<!--end::Form-->
				</div>

				<!--end::Portlet-->
			</div>

			<div class="col-lg-4">

				<!--begin::Portlet-->
				<div class="m-portlet">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<span class="m-portlet__head-icon m--hide">
									<i class="la la-gear"></i>
								</span>
								<h3 class="m-portlet__head-text">
									Characteristics
								</h3>
							</div>
						</div>
					</div>

					<!--begin::Form-->
					<form class="m-form m-form--fit m-form--label-align-right" action="/profile/update-characteristics" method="post">
										<div class="m-portlet__body">
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Height</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="height">
													{{#select height}}
													<option value="3-0">3'0"</option>
													<option value="3-1">3'1"</option>
													<option value="3-2">3'2"</option>
													<option value="3-3">3'3"</option>
													<option value="3-4">3'4"</option>
													<option value="3-5">3'5"</option>
													<option value="3-6">3'6"</option>
													<option value="3-7">3'7"</option>
													<option value="3-8">3'8"</option>
													<option value="3-9">3'9"</option>
													<option value="3-10">3'10"</option>
													<option value="3-11">3'11"</option>
													<option value="4-0">4'0"</option>
													<option value="4-1">4'1"</option>
													<option value="4-2">4'2"</option>
													<option value="4-3">4'3"</option>
													<option value="4-4">4'4"</option>
													<option value="4-5">4'5"</option>
													<option value="4-6">4'6"</option>
													<option value="4-7">4'7"</option>
													<option value="4-8">4'8"</option>
													<option value="4-9">4'9"</option>
													<option value="4-10">4'10"</option>
													<option value="4-11">4'11"</option>
													<option value="5-0">5'0"</option>
													<option value="5-1">5'1"</option>
													<option value="5-2">5'2"</option>
													<option value="5-3">5'3"</option>
													<option value="5-4">5'4"</option>
													<option value="5-5">5'5"</option>
													<option value="5-6">5'6"</option>
													<option value="5-7">5'7"</option>
													<option value="5-8">5'8"</option>
													<option value="5-9">5'9"</option>
													<option value="5-10">5'10"</option>
													<option value="5-11">5'11"</option>
													<option value="6-0">6'0"</option>
													<option value="6-1">6'1"</option>
													<option value="6-2">6'2"</option>
													<option value="6-3">6'3"</option>
													<option value="6-4">6'4"</option>
													<option value="6-5">6'5"</option>
													<option value="6-6">6'6"</option>
													<option value="6-7">6'7"</option>
													<option value="6-8">6'8"</option>
													<option value="6-9">6'9"</option>
													<option value="6-10">6'10"</option>
													<option value="6-11">6'11"</option>
													<option value="7-0">7'0"</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Exercise</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="exercise">
													{{#select exercise}}
													<option value="Yes">Yes</option>
													<option value="No">No</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Education Level</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="education">
													{{#select education}}
													<option value="High School">High School</option>
													<option value="College">College</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Drinking</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="drinking">
													{{#select drinking}}
													<option value="Yes">Yes</option>
													<option value="No">No</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Smoking</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="smoking">
													{{#select smoking}}
													<option value="Yes">Yes</option>
													<option value="No">No</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Pets</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="pets">
													{{#select pets}}
													<option value="Yes">Yes</option>
													<option value="No">No</option>
													{{/select}}
												</select>
											</div>
											<div class="form-group m-form__group">
												<label for="exampleSelect1">Religious</label>
												<select class="form-control m-input m-input--solid" id="exampleSelect1" name="religious">
													{{#select religious}}
													<option value="Yes">Yes</option>
													<option value="No">No</option>
													{{/select}}
												</select>
											</div>
										</div>
										<div class="m-portlet__foot m-portlet__foot--fit">
											<div class="m-form__actions">
												<button type="submit" class="btn btn-success">Submit</button>
												<button type="reset" class="btn btn-secondary">Cancel</button>
											</div>
										</div>
									</form>
					<!--end::Form-->
				</div>

				<!--end::Portlet-->
			</div>

			<div class="col-lg-4">

<!--begin::Portlet-->
				<div class="m-portlet">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<span class="m-portlet__head-icon m--hide">
									<i class="la la-gear"></i>
								</span>
								<h3 class="m-portlet__head-text">
									Pictures
								</h3>
							</div>
						</div>
					</div>
					<div id="myCarousel" class="carousel slide" data-ride="carousel">
						<!-- Wrapper for slides -->
						<div class="carousel-inner">
							{{#if user_pictures.length}}
								{{#each user_pictures}}
									{{#if @first}}
										<div class="item active">
									{{else}}
										<div class="item">
									{{/if}}
										<div style="text-align:center;">
											<img src="{{this}}" alt="user picture" style="width:320px;height:329px;">
											<form class="m-form m-form--fit m-form--label-align-right" action="/profile/photo_delete" method="post">
											<button name="subject" type="submit" value="{{this}}">Delete this photo</button>
											</form>
										</div>

									</div>
								{{/each}}
							{{else}}
								<div class="item active">
									<div style="text-align:center;">
										<img src="https://res.cloudinary.com/frindr/image/upload/v1571593624/no-photo_eoc1ek.gif" alt="user picture" style="width:320px;height:329px;">
									</div>
								</div>
							{{/if}}
						</div>

						<!-- Left and right controls -->
						<a class="left carousel-control" href="#myCarousel" data-slide="next">
							<span class="glyphicon glyphicon-chevron-left"></span>
							<span class="sr-only">Previous</span>
						</a>
						<a class="right carousel-control" href="#myCarousel" data-slide="next">
							<span class="glyphicon glyphicon-chevron-right"></span>
							<span class="sr-only">Next</span>
						</a>
					</div>

					<form class="m-form m-form--fit m-form--label-align-right" action="/profile/photo" method="post" enctype='multipart/form-data'>
						<div class="m-portlet__foot m-portlet__foot--fit">
							<label>	Select your photo:
							<input type="file" name="image" ></label>
							<div class="m-form__actions">
								<button type="submit" class="btn btn-success">Submit</button>
								<button type="reset" class="btn btn-secondary">Cancel</button>
							</div>
						</div>
					</form>

					<!--end::Form-->
				</div>
			</div>

		</div>

		<!--End::Main Portlet-->
	</div>
</div>




<div class="modal fade" id="delete-profile-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
   <form action="/profile/delete-profile" method="post">
      <div class="modal-dialog" role="document">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title" id="exampleModalLabel">Delete your Frindr Profile</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
               </button>
            </div>
            <div class="modal-body">
               <p>Please only proceed if you'd like to delete your Frindr Profile. Once deleted, all data is lost and unrecoverable.</p>
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
               <button type="submit" class="btn btn-danger">Delete</button>
            </div>
         </div>
      </div>
	</form>
</div>

</form>
{{> footer}}
